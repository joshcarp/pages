<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pearson College 20th Reunion 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            margin-bottom: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
            animation: move 20s linear infinite;
        }

        @keyframes move {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .quick-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .quick-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .quick-link:hover::before {
            left: 100%;
        }

        .quick-link:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .quick-link h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .quick-link p {
            opacity: 0.9;
            font-size: 0.95em;
        }

        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 30px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-tab {
            flex: 1;
            min-width: 120px;
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95em;
            font-weight: 500;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .nav-tab:hover:not(.active) {
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .faq-section {
            margin-bottom: 30px;
        }

        .faq-item {
            background: white;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .faq-question {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
        }

        .faq-question::after {
            content: '+';
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .faq-question.active::after {
            transform: rotate(45deg);
        }

        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
        }

        .faq-answer.active {
            padding: 20px;
            max-height: 1000px;
        }

        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pricing-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .pricing-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .pricing-table tr:hover {
            background: #f8f9fa;
        }

        .contact-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .contact-person {
            display: inline-block;
            margin: 15px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .contact-person:hover {
            transform: translateY(-5px);
        }

        .highlight {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-weight: 600;
            color: #2d3436;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .important {
            background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            header h1 {
                font-size: 2.5em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                margin-bottom: 5px;
            }

            .quick-links {
                grid-template-columns: 1fr;
            }

            .contact-person {
                display: block;
                margin: 10px 0;
            }
        }

        ul, ol {
            padding-left: 20px;
            margin: 10px 0;
        }

        li {
            margin-bottom: 5px;
        }

        a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .deadline-banner {
            background: linear-gradient(45deg, #ff6b6b, #ee5a5a);
            color: white;
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* Pearson College branding */
        .brand-bar {
            width: 100%;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: #fff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 0.95em;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .brand-bar a {
            color: #fff;
            font-weight: 700;
            text-decoration: none;
            letter-spacing: 0.2px;
        }
        .brand-tagline { opacity: 0.9; }


    </style>
    <link rel="stylesheet" href="chatbot.css">
</head>
<body>
    <div class="brand-bar">
        <a href="https://www.pearsoncollege.ca/" target="_blank" rel="noopener">Pearson College UWC</a>
        <span class="brand-tagline"></span>
    </div>
    <div class="container">
        <header>
            <h1>Pearson College 20th Reunion</h1>
            <p>August 12-15, 2025 | Welcome Back!</p>
        </header>

        <div class="deadline-banner">
            <h3>🚨 IMPORTANT: Arrivals start Tuesday — Check-in opens 14:00 PM at the Dining Hall 🚨</h3>
            <div style="margin-top:8px; font-size:0.95em;">
                Shuttles: 12:00 Swartz Bay • 1:00 YYJ • 2:00 Royal BC Museum. Join the WhatsApp group for live updates.
            </div>
        </div>

        <div id="arrival-weather" class="highlight" aria-live="polite">
            <div><strong>Arrival Weather (Metchosin)</strong></div>
            <div id="arrival-weather-content">Loading forecast…</div>
        </div>

        <div class="quick-links">
            <a href="https://chat.whatsapp.com/Fwjx6oQm6VCBI7FNMyMq5O" target="_blank" class="quick-link">
                <h3>📱 WhatsApp Group</h3>
                <p>Live updates & chat</p>
            </a>
            <a href="schedule.html" class="quick-link">
                <h3>📅 Main Schedule</h3>
                <p>Full agenda + calendar</p>
            </a>
            <a href="kids-camp.html" class="quick-link">
                <h3>🎪 Kids Camp</h3>
                <p>Activities & calendar</p>
            </a>
            <a href="https://drive.google.com/drive/folders/1vrDb9o7IfQhWZOE_ixKNao0dgOvSpud8" target="_blank" class="quick-link">
                <h3>📁 Resources</h3>
                <p>All reunion info</p>
            </a>
            <a href="campus-map.html" class="quick-link">
                <h3>🗺️ Campus Map</h3>
                <p>Interactive & detailed</p>
            </a>
            <a href="room-assignments.html" class="quick-link">
                <h3>🏠 Room Assignments</h3>
                <p>Find your room & roommates</p>
            </a>
            <a href="printable-qr.html" class="quick-link">
                <h3>🖨️ QR Poster</h3>
                <p>Print & share</p>
            </a>
        </div>

        <div id="todays-schedule" class="highlight" style="background: linear-gradient(135deg, #e8f4fd 0%, #c3e9ff 100%); color: #2c3e50;">
            <h3 style="margin-bottom: 15px; font-size: 1.2em;">📅 Today's Schedule</h3>
            <div id="todays-events"></div>
            <div style="text-align: center; margin-top: 15px;">
                <a href="schedule.html" style="color: #667eea; font-weight: 600; text-decoration: underline;">📋 View Full Schedule</a>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('registration')">Registration</button>
            <button class="nav-tab" onclick="showTab('travel')">Travel</button>
            <button class="nav-tab" onclick="showTab('accommodation')">Accommodation</button>
            <button class="nav-tab" onclick="showTab('activities')">Activities</button>
            <button class="nav-tab" onclick="showTab('practical')">Practical Info</button>
            <button class="nav-tab" onclick="showTab('contact')">Contact</button>
        </div>

        <div id="registration" class="tab-content active">
            <div class="faq-section">
                <h2>Registration Information</h2>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Can I register for individual days of the reunion?
                    </div>
                    <div class="faq-answer">
                        <p>Yes you can! Please follow these steps to register for individual days:</p>
                        <ol>
                            <li>Email <strong>alumni@pearsoncollege.ca</strong> with your information</li>
                            <li>Contact us for wire transfer information or send Interac e-transfer to <strong>accountsreceivable@pearsoncollege.ca</strong> or PayPal: <strong>paypalcan@pearsoncollege.ca</strong></li>
                            <li>You'll receive a confirmation email</li>
                        </ol>
                        
                        <table class="pricing-table">
                            <thead>
                                <tr>
                                    <th>Reunion Year</th>
                                    <th>Single day off-site</th>
                                    <th>Full day onsite</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>20-Year Reunion</td>
                                    <td>$151.20</td>
                                    <td>$188.10</td>
                                </tr>
                                <tr>
                                    <td>Child Pricing</td>
                                    <td>$125.38</td>
                                    <td>$159.62</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Can I bring my spouse/partner and children?
                    </div>
                    <div class="faq-answer">
                        <p>Absolutely! The reunion is open to Pearson alumni and your families. Please ensure you notify the College by email of specific requirements for car seats, child life jackets, highchairs, etc., as rental arrangements need to be made in advance. These costs will be incurred by the registrant.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Can I get a refund if I need to cancel?
                    </div>
                    <div class="faq-answer">
                        <p>Yes, you can receive a full refund, minus a $25 processing fee, as long as you cancel by <strong>July 15th</strong>. After that date, refunds will not be available.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Travel Fund Information
                    </div>
                    <div class="faq-answer">
                        <p>The Travel Fund is available to support alumni who need assistance with travel costs. Key details:</p>
                        <ul>
                            <li><strong>Deadline to apply:</strong> May 15th for all reunions</li>
                            <li><strong>How to apply:</strong> <a href="https://www.pearsoncollege.ca/alumni/reunions/travel-fund/" target="_blank">Visit the Travel Fund page</a></li>
                            <li><strong>Reimbursement:</strong> Pay upfront, get reimbursed in cash upon arrival at check-in</li>
                            <li><strong>Note:</strong> Guests and dependents are not eligible for funding</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="travel" class="tab-content">
            <div class="faq-section">
                <h2>Travel & Transportation</h2>

                <div class="important">
                    <strong>Important:</strong> Even if you don't need a visa, many countries require an Electronic Travel Authorization to enter Canada. <a href="https://www.canada.ca/en/immigration-refugees-citizenship/services/visit-canada/eta.html" target="_blank" style="color: white; text-decoration: underline;">Read more here</a>.
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Ground Transportation to the College
                    </div>
                    <div class="faq-answer">
                        <p>Yes, a complimentary shuttle is available if you request pick-up before <strong>June 28</strong>.</p>
                        
                        <p><strong>Check-in:</strong> 12:00pm (noon) on August 12th, 2025</p>

                        <p><strong>Pick-up:</strong> 12:00pm Swartz Bay Ferry • 1:00pm YYJ Airport • 2:00pm Royal BC Museum<br>
                        <strong>Departure:</strong> 8:00am Swartz Bay/YYJ • 10:00am Royal BC Museum<br>
                        <strong>Transit:</strong> <a href="https://maps.app.goo.gl/ByW3ABob84H35ioK7" target="_blank">YYJ to Downtown</a> • <a href="https://maps.app.goo.gl/2RpgJAXtbEGcRTob6" target="_blank">Swartz Bay route</a></p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Campus Location & Map
                    </div>
                    <div class="faq-answer">
                        <p><strong>Address:</strong> Pearson College UWC, Metchosin, BC, Canada</p>
                        <p>The campus is located on the beautiful coast of southern Vancouver Island, about 25 km southwest of Victoria.</p>
                        
                        <div style="margin: 20px 0; text-align: center;">
                            <iframe width="425" height="350" src="https://www.openstreetmap.org/export/embed.html?bbox=-123.56857001781465%2C48.34550050670115%2C-123.5632646083832%2C48.34860230322514&amp;layer=mapnik" style="border: 1px solid #ddd; border-radius: 8px; max-width: 100%;"></iframe>
                            <br/><small><a href="https://www.openstreetmap.org/?#map=18/48.347051/-123.565917&amp;layers=N" target="_blank" style="color: #667eea;">View Larger Map</a></small>
                        </div>
                        
                        <p><strong>Getting Here:</strong></p>
                        <ul>
                            <li>Use the free shuttle service (register by June 28)</li>
                            <li>Driving: Follow Highway 14 west from Victoria</li>
                            <li>The campus is well-signposted from the main road</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        What to Bring - Weather & Clothing
                    </div>
                    <div class="faq-answer">
                        <p><strong>Weather:</strong> August 15-25°C days, 10-15°C evenings. Bring layers!</p>

                        <p><strong>Pack:</strong> Evening sweater • Gala dinner outfit • Walking shoes • Rain gear • Sunscreen/hat • Bug spray • Toiletries (towels provided)</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="accommodation" class="tab-content">
            <div class="faq-section">
                <h2>Accommodation Information</h2>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Room Arrangements & Check-in
                    </div>
                    <div class="faq-answer">
                        <p><strong>Arrival:</strong> Any time after 12pm (noon) on the first day</p>
                        <p><strong>Check-out:</strong> By 10am on the last day</p>
                        <p><strong>Check-in Location:</strong> Registration Desk in the Dining Hall</p>
                        
                        <div class="important">
                            If arriving after 6:00 PM, please let us know in advance for room assignment and food planning.
                        </div>

                        <p>We'll do our best to accommodate specific room requests and rooming with friends. Families with children will be housed together when possible.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        What's in a Student Room?
                    </div>
                    <div class="faq-answer">
                        <p>Each room contains:</p>
                        <ul>
                            <li>Four single beds (some have five) - easily rearranged</li>
                            <li>Four desks with chairs</li>
                            <li>Four wardrobes with drawers and hanging space</li>
                            <li>Four night tables</li>
                        </ul>
                        
                        <p><strong>Bathrooms:</strong> One common bathroom per floor with multiple toilets, sinks, and showers</p>
                        <p><strong>Amenities:</strong> Each residence has a day room with sofas, fireplace, and kitchenette with tea/coffee facilities</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Accessibility Features
                    </div>
                    <div class="faq-answer">
                        <p><strong>Wheelchair access:</strong> Room 6 in Stoki House (best option) • Accessible washrooms in Dining Hall, Stoki, Max Bell, Ondaajte • Ramps, shower chairs, support bars, adjustable tables available</p>
                        
                        <p><strong>Accessible locations:</strong> Max Bell (ramp, modified entrance) • Ondaajte classroom (<6% slope, large washroom) • Dining Hall (adjustable tables, accessible washrooms)</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="activities" class="tab-content">
            <div class="faq-section">
                <h2>Activities & Programming</h2>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Waterfront Activities
                    </div>
                    <div class="faq-answer">
                        <p><strong>Race Rocks Tours:</strong> Sign up onsite (first come, first served). August is sensitive for nesting birds, so activities are designed with ecological protection in mind.</p>
                        
                        <p><strong>Kayaking & Canoeing:</strong> College kayaks and large canoes available at scheduled time slots. Sign up onsite (first come, first served). All participants must sign a waiver form prior to activities.</p>
                        
                        <div class="important">
                            You will receive a waiver via email before the reunion starts.
                        </div>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Recreational Facilities
                    </div>
                    <div class="faq-answer">
                        <ul>
                            <li><strong>Tennis/Basketball courts:</strong> Open for use</li>
                            <li><strong>Hiking trails:</strong> Many excellent trails on or near campus</li>
                            <li><strong>Cycling:</strong> Many opportunities (no bikes provided, helmets mandatory in BC)</li>
                            <li><strong>Victoria day trips:</strong> Alumni can organize trips to Royal BC Museum, Inner Harbour, downtown shopping</li>
                        </ul>
                        
                        <div class="important">
                            No scuba diving or campfires available during the reunion.
                        </div>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Family & Children Activities
                    </div>
                    <div class="faq-answer">
                        <p><strong>Kids Camp:</strong> Organized activities for children with dedicated counselors. Check the Kids Camp Schedule for detailed programming.</p>
                        
                        <p><strong>Supervision:</strong> Parents and caregivers are primarily responsible for their children. The campus is safe, but reunion programming is not set up for unsupervised minors.</p>
                        
                        <p><strong>Quiet time options:</strong> Many walking trails and parks in the area. Note: Mary Hill military training facility is off-limits.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Getting Involved & Volunteering
                    </div>
                    <div class="faq-answer">
                        <p>We encourage alumni to volunteer and get involved! Contact <strong>alumni@pearsoncollege.ca</strong> to volunteer.</p>
                        
                        <p><strong>Self-directed activities:</strong> Reunions are primarily designed and carried out by alumni. Organize walks, soccer games, store runs - getting involved ensures a memorable reunion!</p>
                        
                        <p><strong>Partner activities:</strong> Alumni volunteers can organize orientation sessions for spouses/partners to learn about the College.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="practical" class="tab-content">
            <div class="faq-section">
                <h2>Practical Information</h2>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        Food, Drink & Shopping
                    </div>
                    <div class="faq-answer">
                        <p><strong>Meals:</strong> Consult your activity schedule for meal times. Alert us early of food allergies via registration or email alumni@pearsoncollege.ca</p>
                        
                        <p><strong>Bar:</strong> Available each evening from dinner until midnight in Dining Hall, Max Bell, or Common Room. Accepts cash (Canadian dollars only) and card payments.</p>
                        
                        <p><strong>Campus Shopping:</strong> College swag items available at Dining Hall during lunch and dinner. Cash or card accepted.</p>
                        
                        <div class="important">
                            No cash machines on campus - bring money for alcohol or auction items if you don't have cards.
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div id="contact" class="tab-content">
            <div class="faq-section">
                <h2>Contact</h2>
                <p>Email <strong>alumni@pearsoncollege.ca</strong> for general inquiries.</p>
                <p>For urgent matters during the reunion, find contacts below and at the Registration Desk.</p>
                <div class="contact-info" style="margin-top:20px; text-align:left;">
                    <div class="contact-person">
                        <div style="font-weight:700;">Phoebe Mason</div>
                        <div>Alumni Engagement Manager</div>
                        <div>WhatsApp/Phone: <a href="https://wa.me/17787693745" target="_blank" rel="noopener">+1 778 769 3745</a> · <a href="tel:+17787693745">Call</a></div>
                        <div>Email: <a href="mailto:pmason@pearsoncollege.ca">pmason@pearsoncollege.ca</a></div>
                    </div>
                    <div class="contact-person">
                        <div style="font-weight:700;">Ruba Elfurjani</div>
                        <div>Alumni and Community Engagement Coordinator</div>
                        <div>WhatsApp/Phone: <a href="https://wa.me/17784011493" target="_blank" rel="noopener">+1 778 401 1493</a> · <a href="tel:+17784011493">Call</a></div>
                        <div>Email: <a href="mailto:relfurjani@pearsoncollege.ca">relfurjani@pearsoncollege.ca</a></div>
                    </div>
                    <div class="contact-person">
                        <div style="font-weight:700;">Joshua Carpeggiani</div>
                        <div>Volunteer</div>
                        <div>WhatsApp/Phone: <a href="https://wa.me/14168293973" target="_blank" rel="noopener">+1 416 829 3973</a> · <a href="tel:+14168293973">Call</a></div>
                    </div>
                </div>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 15px;">
                    <h4 style="margin-bottom: 12px; color: #2c3e50;">Quick Links</h4>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <a target="_blank" href="https://drive.google.com/drive/folders/1vrDb9o7IfQhWZOE_ixKNao0dgOvSpud8" style="color: #667eea; text-decoration: none; font-weight: 500;">📁 Drive Folder</a>
                        <a target="_blank" href="https://calendar.google.com/calendar/u/0?cid=OWYwNmYwYzliYmY3ZDc3ZmUzZTBjMzdlYTNhOWExNjU4NzQ2OTg4ODNkOTlmY2ZjNzIzMDZmN2M1YjIwMWNiOUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t" style="color: #667eea; text-decoration: none; font-weight: 500;">📅 Main Calendar</a>
                        <a target="_blank" href="https://calendar.google.com/calendar/u/0?cid=MjYxNjRhMmVhNDA4MTkyNTUwNjc0NzM4OTJiYWQyZmY4NmQzZmNhZDU3MWYzMDU3MmVmMDg3ZTlhNjIyMmQ2MEBncm91cC5jYWxlbmRhci5nb29nbGUuY29t" style="color: #667eea; text-decoration: none; font-weight: 500;">🎪 Kids Calendar</a>
                    </div>
                </div>
            </div>
        </div>

    <script>
        function showTab(tabId) {
            var contents = document.querySelectorAll('.tab-content');
            contents.forEach(function (c) { c.classList.remove('active'); });
            var target = document.getElementById(tabId);
            if (target) { target.classList.add('active'); }
            var tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(function (t) { t.classList.remove('active'); });
            tabs.forEach(function (t) {
                var on = t.getAttribute('onclick') || '';
                if (on.indexOf("'" + tabId + "'") !== -1) { t.classList.add('active'); }
            });
            var nav = document.querySelector('.nav-tabs');
            if (nav && typeof window.scrollTo === 'function') {
                window.scrollTo({ top: nav.offsetTop - 10, behavior: 'smooth' });
            }
        }

        function toggleFAQ(questionEl) {
            if (!questionEl) return;
            questionEl.classList.toggle('active');
            var answer = questionEl.nextElementSibling;
            if (answer) { answer.classList.toggle('active'); }
        }

        async function loadArrivalWeather(){
            try {
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=48.35&longitude=-123.55&current_weather=true&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_max&timezone=auto');
                const data = await res.json();
                const cur = data.current_weather;
                const d0 = data.daily;
                const text = cur && d0 ? `Now: ${Math.round(cur.temperature)}°C, winds ${Math.round(cur.windspeed)} km/h · Today: ${Math.round(d0.temperature_2m_max[0])}°/${Math.round(d0.temperature_2m_min[0])}°C, precip ${d0.precipitation_probability_max[0]}%` : 'Forecast unavailable. Check your weather app.';
                var el = document.getElementById('arrival-weather-content');
                if (el) el.textContent = text;
            } catch (e) {
                var el = document.getElementById('arrival-weather-content');
                if (el) el.textContent = 'Forecast unavailable. Check your weather app.';
            }
        }

        // Load today's schedule
        async function loadTodaysSchedule() {
            try {
                const res = await fetch('schedule.ical');
                const text = await res.text();
                const events = parseICS(text);
                const todaysEvents = getTodaysEvents(events);
                renderTodaysEvents(todaysEvents);
            } catch (error) {
                document.getElementById('todays-events').innerHTML = '<p style="text-align: center; color: #666;">Unable to load schedule</p>';
            }
        }

        function parseICS(ics) {
            const lines = ics.split(/\r?\n/);
            const events = [];
            let cur = null;
            for (const line of lines) {
                if (line === 'BEGIN:VEVENT') { cur = {}; }
                else if (line === 'END:VEVENT') { if (cur) events.push(cur); cur = null; }
                else if (cur) {
                    const idx = line.indexOf(':');
                    if (idx > -1) {
                        const key = line.slice(0, idx).split(';')[0];
                        const val = line.slice(idx + 1);
                        cur[key] = (cur[key] ? cur[key] + '\n' : '') + val;
                    }
                }
            }
            return events.map(e => ({
                start: toDate(e['DTSTART']),
                end: toDate(e['DTEND']),
                summary: e['SUMMARY'] || '',
                description: e['DESCRIPTION'] || '',
                location: e['LOCATION'] || ''
            })).sort((a, b) => a.start - b.start);
        }

        function toDate(val) {
            if (!val) return null;
            const m = /:([0-9]{8}T[0-9]{6})$/.exec(val) || /([0-9]{8}T[0-9]{6})$/.exec(val);
            if (!m) return null;
            const s = m[1];
            const yyyy = s.slice(0, 4), mm = s.slice(4, 6), dd = s.slice(6, 8), hh = s.slice(9, 11), mi = s.slice(11, 13), ss = s.slice(13, 15);
            // Parse as Pacific time (America/Vancouver timezone)
            // Create date in Pacific timezone by using a known Pacific offset
            const pacificDate = new Date(`${yyyy}-${mm}-${dd}T${hh}:${mi}:${ss}-07:00`); // PDT offset for August
            return pacificDate;
        }

        function getTodaysEvents(events) {
            const today = new Date();
            const todayKey = today.toLocaleDateString('en-CA', { timeZone: 'America/Vancouver' }); // YYYY-MM-DD format in Pacific
            return events.filter(event => {
                if (!event.start) return false;
                const eventKey = event.start.toLocaleDateString('en-CA', { timeZone: 'America/Vancouver' }); // YYYY-MM-DD format in Pacific
                return eventKey === todayKey;
            });
        }

        function renderTodaysEvents(events) {
            const container = document.getElementById('todays-events');
            if (events.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; margin: 10px 0;">No events scheduled for today</p>';
                return;
            }

            let html = '';
            for (const event of events) {
                const time = event.start && event.end
                    ? `${event.start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} – ${event.end.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`
                    : (event.start ? event.start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : '');
                
                const locationText = event.description.includes('LOCATION:') 
                    ? event.description.split('LOCATION:')[1].split('\n')[0].trim()
                    : event.location;

                html += `
                    <div style="background: rgba(255,255,255,0.8); border-radius: 8px; margin-bottom: 8px; padding: 12px; display: grid; grid-template-columns: 120px 1fr; gap: 12px; align-items: start;">
                        <div style="font-weight: 600; color: #2c3e50; font-size: 0.9em; white-space: nowrap;">${time}</div>
                        <div>
                            <div style="font-weight: 600; color: #2c3e50;">${escapeHtml(event.summary)}</div>
                            ${locationText ? `<div style="color: #666; font-size: 0.9em; text-transform: uppercase;">${escapeHtml(locationText)}</div>` : ''}
                        </div>
                    </div>
                `;
            }
            container.innerHTML = html;
        }

        function escapeHtml(s) { 
            return s.replace(/[&<>]/g, c => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;' }[c])); 
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadArrivalWeather();
            loadTodaysSchedule();
        });
    </script>
    </div>
    

    
    <script src="chatbot.js"></script>
    <script src="qr-code-simple.js"></script>
</body>
</html>